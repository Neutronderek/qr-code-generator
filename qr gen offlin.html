<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Social QR Generator (Offline)</title><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%23007bff'/%3E%3Ctext x='50' y='56' text-anchor='middle' font-size='50' fill='white' font-family='Arial'%3EQR%3C/text%3E%3C/svg%3E"><script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script><style>:root{--g1:#0b3d91;--g2:#6b21a8;--muted:#6b7280}html,body{height:100%;margin:0;font-family:Inter,Arial,sans-serif;background:#eef6ff;color:#081226}header{padding:26px;text-align:center;background:linear-gradient(135deg,var(--g1),var(--g2));color:#fff}main{max-width:1100px;margin:-36px auto 48px;padding:18px;border-radius:12px;background:#fff;box-shadow:0 12px 30px rgba(11,35,80,.08);display:grid;grid-template-columns:1fr 420px;gap:18px}@media(max-width:980px){main{grid-template-columns:1fr;padding:14px}}label{display:block;font-weight:700;margin-bottom:6px}input,textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef9;background:#fbfdff}textarea{min-height:72px}button{background:var(--g1);color:#fff;padding:10px;border-radius:10px;border:0;cursor:pointer;font-weight:700}button.secondary{background:#fff;color:var(--g1);border:1px solid rgba(11,61,145,.12)}.card{background:linear-gradient(180deg,#fff,#fbfdff);border-radius:12px;padding:14px}#qrcode canvas{background:#fff;padding:10px;border-radius:12px}small{color:var(--muted)}</style></head><body><header><h1>Social QR Generator â€” Offline</h1><p>Creates an embedded welcome page as a compact data URL (avoid large images to prevent overflow).</p></header><main><section><h3>Profile</h3><label>Name</label><input id="name"/><label>Welcome message</label><input id="greeting" placeholder="Hey ðŸ‘‹ welcome!" /><label>Short bio</label><textarea id="bio"></textarea><label>Profile photo (optional, keep small & under 60KB)</label><input id="photo" type="file" accept="image/*"/><h3 style="margin-top:12px">Social Links</h3><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px"><input id="facebook" placeholder="https://facebook.com/..." /><input id="instagram" placeholder="https://instagram.com/..." /><input id="x" placeholder="https://x.com/..." /><input id="linkedin" placeholder="https://linkedin.com/in/..." /><input id="tiktok" placeholder="https://tiktok.com/@..." /><input id="youtube" placeholder="https://youtube.com/..." /><input id="whatsapp" placeholder="https://wa.me/..." /><input id="website" placeholder="https://..." /></div><label style="margin-top:8px">QR color</label><input id="qrColor" type="color" value="#0b3d91"/><div style="margin-top:10px;display:flex;gap:8px"><button onclick="generateOffline()">Generate Offline QR</button><button class="secondary" onclick="resetAll()">Reset</button></div><small>Offline embedding may fail if payload is too large â€” try removing photo or long text.</small></section><aside class="card"><div id="previewCard" style="text-align:center"><img id="pv" style="width:84px;height:84px;border-radius:50%;display:none;object-fit:cover;border:3px solid #fff"/><div id="pvName" style="font-weight:800;margin-top:8px">Your Name</div><div id="pvBio" style="color:var(--muted);font-size:13px">Short bio appears here.</div><div id="qrcode" style="margin-top:12px"></div><div style="display:flex;gap:8px;justify-content:center;margin-top:8px"><button id="downloadPng" style="display:none" onclick="download('png')">Download PNG</button><button id="downloadJpg" style="display:none" onclick="download('jpg')">Download JPG</button></div><div id="note" style="margin-top:8px;font-size:12px;color:var(--muted)"></div></div></aside></main><script>let photoData='';let currentCanvas=null;document.getElementById('photo').addEventListener('change',function(e){const f=e.target.files&&e.target.files[0];if(!f)return;const r=new FileReader();r.onload=ev=>{photoData=ev.target.result;document.getElementById('pv').src=photoData;document.getElementById('pv').style.display='block';};r.readAsDataURL(f);});function generateOffline(){const name=escapeHtml(document.getElementById('name').value.trim());const greeting=escapeHtml(document.getElementById('greeting').value.trim()||'Hey ðŸ‘‹, welcome!');const bio=escapeHtml(document.getElementById('bio').value.trim());const socials={facebook:document.getElementById('facebook').value.trim(),instagram:document.getElementById('instagram').value.trim(),x:document.getElementById('x').value.trim(),linkedin:document.getElementById('linkedin').value.trim(),tiktok:document.getElementById('tiktok').value.trim(),youtube:document.getElementById('youtube').value.trim(),whatsapp:document.getElementById('whatsapp').value.trim(),website:document.getElementById('website').value.trim()};const buttons=Object.entries(socials).filter(([k,v])=>v).map(([k,v])=>`<a style="display:block;padding:12px;border-radius:10px;color:#fff;text-decoration:none;margin-bottom:8px;background:${btnColor(k)}" href="${v}">${escapeHtml(cap(k))}</a>`).join('');const imgTag=photoData?`<img src="${photoData}" style="width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:10px">`:'';const html=`<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>${name||'Welcome'}</title><style>body{font-family:Arial,Helvetica,sans-serif;background:linear-gradient(180deg,#0b3d91,#6b21a8);color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;margin:0} .card{background:rgba(255,255,255,0.96);color:#06234b;padding:20px;border-radius:12px;text-align:center;max-width:420px}img{border-radius:50%}</style></head><body><div class="card">${imgTag}<h1>${name||'Welcome'}</h1><p>${greeting||''}</p>${buttons||'<div style="color:#6b7280">No links provided</div>'}</div></body></html>`;try{const enc=btoa(unescape(encodeURIComponent(html)));const data='data:text/html;base64,'+enc;if(data.length>2500){document.getElementById('note').textContent='Payload too large to embed. Remove photo or shorten text.';return;}currentCanvas=null;document.getElementById('qrcode').innerHTML='';new QRCode(document.getElementById('qrcode'),{text:data,width:260,height:260,colorDark:document.getElementById('qrColor').value,colorLight:'#ffffff',correctLevel:QRCode.CorrectLevel.H});setTimeout(()=>{currentCanvas=document.querySelector('#qrcode canvas');document.getElementById('downloadPng').style.display='inline-block';document.getElementById('downloadJpg').style.display='inline-block';document.getElementById('note').textContent='Embedded payload size: '+data.length+' bytes';},220);}catch(e){alert('Failed to encode. Try smaller photo.');}}function btnColor(k){switch(k){case'facebook':return'#3b5998';case'instagram':return'#E1306C';case'tiktok':return'#000';case'x':case'twitter':return'#1DA1F2';case'linkedin':return'#0077b5';case'youtube':return'#ff0000';case'whatsapp':return'#25D366';default:return'#0b3d91'} }function cap(s){return s.charAt(0).toUpperCase()+s.slice(1)}function escapeHtml(s){return(s||'').replace(/[&<>"']/g,ch=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch]))}function download(type){if(!currentCanvas){alert('Generate first');return}const a=document.createElement('a');a.href=currentCanvas.toDataURL(type==='jpg'?'image/jpeg':'image/png');a.download='qr-offline.'+type;a.click()}function resetAll(){photoData='';currentCanvas=null;document.getElementById('name').value='';document.getElementById('greeting').value='';document.getElementById('bio').value='';['facebook','instagram','x','linkedin','tiktok','youtube','whatsapp','website'].forEach(id=>document.getElementById(id).value='');document.getElementById('photo').value='';document.getElementById('qrcode').innerHTML='';document.getElementById('pv').style.display='none';document.getElementById('pvName').textContent='Your Name';document.getElementById('pvBio').textContent='Short bio appears here.';document.getElementById('downloadPng').style.display='none';document.getElementById('downloadJpg').style.display='none'}function loadPreview(){document.getElementById('pvName').textContent=document.getElementById('name').value.trim()||'Your Name';document.getElementById('pvBio').textContent=document.getElementById('bio').value.trim()||'Short bio appears here.';}setInterval(loadPreview,300);</script></body></html>